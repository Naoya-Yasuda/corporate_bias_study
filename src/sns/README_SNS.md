# SNSæŠ•ç¨¿æ©Ÿèƒ½ã‚¬ã‚¤ãƒ‰

ä¼æ¥­å„ªé‡ãƒã‚¤ã‚¢ã‚¹åˆ†æã‚·ã‚¹ãƒ†ãƒ ã®SNSæŠ•ç¨¿æ©Ÿèƒ½ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## æ¦‚è¦

SNSæŠ•ç¨¿æ©Ÿèƒ½ã¯ã€ãƒã‚¤ã‚¢ã‚¹åˆ†æçµæœã®å¤‰åŒ–ã‚’è‡ªå‹•ç›£è¦–ã—ã€é¡•è‘—ãªå¤‰åŒ–ã‚’æ¤œçŸ¥ã—ãŸéš›ã«X/Twitterã«è‡ªå‹•æŠ•ç¨¿ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½
- **è‡ªå‹•å¤‰åŒ–ç›£è¦–**: NBIã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€å…¬å¹³æ€§ã‚¹ã‚³ã‚¢ã®å¤‰åŒ–ã‚’è‡ªå‹•ç›£è¦–
- **X/TwitteræŠ•ç¨¿**: é¡•è‘—ãªå¤‰åŒ–ã‚’æ¤œçŸ¥ã—ãŸéš›ã®è‡ªå‹•æŠ•ç¨¿
- **æŠ•ç¨¿åˆ¶å¾¡**: é‡è¤‡é˜²æ­¢ã€æ—¥æ¬¡åˆ¶é™ã€æ™‚é–“å¸¯åˆ¶å¾¡
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**: è‡ªå‹•çš„ãªæŠ•ç¨¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ
- **ç›£è¦–ãƒ­ã‚°**: æŠ•ç¨¿å±¥æ­´ã¨ç›£è¦–çŠ¶æ³ã®è©³ç´°ãƒ­ã‚°

## ç›£è¦–å¯¾è±¡æŒ‡æ¨™ã¨é–¾å€¤

| æŒ‡æ¨™                             | é–¾å€¤                            | èª¬æ˜                         |
| -------------------------------- | ------------------------------- | ---------------------------- |
| **NBIï¼ˆNormalized Bias Indexï¼‰** | Â±20%ä»¥ä¸Š                        | ä¼æ¥­å„ªé‡ãƒã‚¤ã‚¢ã‚¹ã®æ­£è¦åŒ–æŒ‡æ¨™ |
| **ãŠã™ã™ã‚ãƒ©ãƒ³ã‚­ãƒ³ã‚°é †ä½**       | ä¸Šä½3ä½ä»¥å†…å¤‰å‹• ã¾ãŸã¯ Â±3ä½ä»¥ä¸Š | æ¤œç´¢çµæœã®é †ä½å¤‰åŒ–           |
| **ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ãƒ™ãƒ«å…¬å¹³æ€§ã‚¹ã‚³ã‚¢**   | Â±15%ä»¥ä¸Š                        | ã‚µãƒ¼ãƒ“ã‚¹ã‚«ãƒ†ã‚´ãƒªå…¨ä½“ã®å…¬å¹³æ€§ |
| **ä¼æ¥­ãƒ¬ãƒ™ãƒ«å…¬å¹³æ€§ã‚¹ã‚³ã‚¢**       | Â±15%ä»¥ä¸Š                        | å€‹åˆ¥ä¼æ¥­ã®å…¬å¹³æ€§è©•ä¾¡         |

## æŠ•ç¨¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹

### 1. NBIå¤‰åŒ–æ¤œçŸ¥
```
ğŸš¨ã€ä¼æ¥­å„ªé‡ãƒã‚¤ã‚¢ã‚¹å¤‰åŒ–æ¤œçŸ¥ã€‘

ğŸ“Š æ¤œçŸ¥å†…å®¹: NBIæ€¥æ¿€ãªå¤‰åŒ–
ğŸ¢ å¯¾è±¡ä¼æ¥­: AWS
ğŸ“ˆ å¤‰åŒ–ç‡: +25.3%
ğŸ“‹ è©³ç´°: æ„Ÿæƒ…ã‚¹ã‚³ã‚¢ãŒå¤§å¹…ã«ä¸Šæ˜‡
ğŸ“… æ¤œçŸ¥æ—¥æ™‚: 2025-01-27 14:30

ğŸ” åˆ†æè©³ç´°: https://your-domain.com/analysis
#ä¼æ¥­å„ªé‡ãƒã‚¤ã‚¢ã‚¹ #AIåˆ†æ #é€æ˜æ€§
```

### 2. ãƒ©ãƒ³ã‚­ãƒ³ã‚°å¤‰åŒ–æ¤œçŸ¥
```
ğŸ“Šã€æ¤œç´¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°å¤‰åŒ–æ¤œçŸ¥ã€‘

ğŸ¢ å¯¾è±¡ä¼æ¥­: Microsoft Azure
ğŸ“ˆ ãƒ©ãƒ³ã‚­ãƒ³ã‚°å¤‰åŒ–: 2ä½ â†’ 5ä½ (-3ä½)
ğŸ“‹ ã‚«ãƒ†ã‚´ãƒª: ã‚¯ãƒ©ã‚¦ãƒ‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
ğŸ“… æ¤œçŸ¥æ—¥æ™‚: 2025-01-27 15:45

ğŸ” è©³ç´°åˆ†æ: https://your-domain.com/ranking
#æ¤œç´¢ãƒ©ãƒ³ã‚­ãƒ³ã‚° #AIåˆ†æ #ä¼æ¥­è©•ä¾¡
```

### 3. å…¬å¹³æ€§ã‚¹ã‚³ã‚¢å¤‰åŒ–æ¤œçŸ¥
```
âš–ï¸ã€å…¬å¹³æ€§ã‚¹ã‚³ã‚¢å¤‰åŒ–æ¤œçŸ¥ã€‘

ğŸ¢ å¯¾è±¡ä¼æ¥­: Google Cloud
ğŸ“Š ã‚¹ã‚³ã‚¢å¤‰åŒ–: 0.78 â†’ 0.65 (-16.7%)
ğŸ“‹ è©•ä¾¡é …ç›®: ä¼æ¥­ãƒ¬ãƒ™ãƒ«å…¬å¹³æ€§
ğŸ“… æ¤œçŸ¥æ—¥æ™‚: 2025-01-27 16:20

ğŸ” è©³ç´°åˆ†æ: https://your-domain.com/fairness
#å…¬å¹³æ€§è©•ä¾¡ #AIåˆ†æ #é€æ˜æ€§
```

## è¨­å®šæ–¹æ³•

### 1. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.envãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
**èªè¨¼æƒ…å ±ã€ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®šã€åŸºæœ¬åˆ¶å¾¡**ï¼š
```bash
# X APIèªè¨¼æƒ…å ±
TWITTER_API_KEY=your_api_key
TWITTER_API_SECRET=your_api_secret
TWITTER_BEARER_TOKEN=your_bearer_token
TWITTER_ACCESS_TOKEN=your_access_token
TWITTER_ACCESS_TOKEN_SECRET=your_access_token_secret

# S3è¨­å®šï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ç”¨ï¼‰
S3_BUCKET_NAME=your_s3_bucket_name
AWS_ACCESS_KEY=your_aws_access_key
AWS_SECRET_KEY=your_aws_secret_key
AWS_REGION=ap-northeast-1

# åŸºæœ¬åˆ¶å¾¡è¨­å®šï¼ˆæœ€å„ªå…ˆï¼‰
TWITTER_POSTING_ENABLED=true    # æŠ•ç¨¿æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹
SNS_MONITORING_ENABLED=true     # ç›£è¦–æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹
```

### 2. ç›£è¦–è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
`config/sns_monitoring_config.yml`ã®è¨­å®šä¾‹ï¼š
```yaml
sns_monitoring:
  thresholds:
    nbi_change_percent: 20.0
    ranking_change_positions: 3
    fairness_score_change_percent: 15.0

  posting:
    max_daily_posts: 10
    duplicate_prevention_hours: 24
    time_range:
      start: "09:00"
      end: "21:00"
    time_zone: "Asia/Tokyo"

  content:
    include_hashtags: true
    include_analysis_url: true
    max_character_count: 280
    base_url: "https://your-domain.com/analysis"

  monitoring:
    check_interval_minutes: 60
```

### 3. ã‚·ãƒ³ãƒ—ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
`config/simple_sns_config.yml`ã®è¨­å®šä¾‹ï¼š
```yaml
# å¤‰åŒ–æ¤œçŸ¥ã®é–¾å€¤è¨­å®š
change_thresholds:
  bias_score: 0.1        # ãƒã‚¤ã‚¢ã‚¹ã‚¹ã‚³ã‚¢ã®å¤‰åŒ–é–¾å€¤ï¼ˆ10%ï¼‰
  sentiment_score: 0.15  # ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã®å¤‰åŒ–é–¾å€¤ï¼ˆ15%ï¼‰
  ranking_change: 3      # ãƒ©ãƒ³ã‚­ãƒ³ã‚°å¤‰åŒ–é–¾å€¤ï¼ˆ3ä½ä»¥ä¸Šï¼‰
  fairness_score: 0.1    # å…¬å¹³æ€§ã‚¹ã‚³ã‚¢ã®å¤‰åŒ–é–¾å€¤ï¼ˆ10%ï¼‰
  neutrality_score: 0.1  # ä¸­ç«‹æ€§ã‚¹ã‚³ã‚¢ã®å¤‰åŒ–é–¾å€¤ï¼ˆ10%ï¼‰

# æŠ•ç¨¿è¨­å®š
posting:
  enabled: true                    # æŠ•ç¨¿æ©Ÿèƒ½ã®æœ‰åŠ¹/ç„¡åŠ¹
  max_changes_per_post: 5          # 1æŠ•ç¨¿ã‚ãŸã‚Šã®æœ€å¤§å¤‰åŒ–æ•°
  force_post_on_no_changes: false  # å¤‰åŒ–ãŒãªã„å ´åˆã®å¼·åˆ¶æŠ•ç¨¿
```

## ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬çš„ãªå®Ÿè¡Œ
```bash
# GitHub Actionsç”¨SNSæŠ•ç¨¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
python scripts/github_actions_sns_posting.py

# çµ±åˆæŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆ
python -c "from src.sns.integrated_posting_system import IntegratedPostingSystem; system = IntegratedPostingSystem(); result = system.post_latest_changes(); print(result)"
```

### 2. ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ç¢ºèª
```python
from src.sns.integrated_posting_system import IntegratedPostingSystem

# ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ç¢ºèª
system = IntegratedPostingSystem()
status = system.get_system_status()
print(f"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹: {status}")

# æ¥ç¶šãƒ†ã‚¹ãƒˆ
test_result = system.test_connection()
print(f"æ¥ç¶šãƒ†ã‚¹ãƒˆçµæœ: {test_result}")

# åˆ©ç”¨å¯èƒ½ãªåˆ†ææ—¥ä»˜ã®ç¢ºèª
available_dates = system.list_available_dates()
print(f"åˆ©ç”¨å¯èƒ½ãªåˆ†ææ—¥ä»˜: {available_dates}")
```

### 3. æ‰‹å‹•æŠ•ç¨¿å®Ÿè¡Œ
```python
from src.sns.integrated_posting_system import IntegratedPostingSystem

# çµ±åˆæŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–
system = IntegratedPostingSystem(storage_mode='auto')

# æœ€æ–°ã®å¤‰åŒ–ã‚’æ¤œçŸ¥ã—ã¦æŠ•ç¨¿
result = system.post_latest_changes(force_post=False)
print(f"æŠ•ç¨¿çµæœ: {result}")

# å¼·åˆ¶æŠ•ç¨¿ï¼ˆå¤‰åŒ–ãŒãªãã¦ã‚‚æŠ•ç¨¿ï¼‰
result = system.post_latest_changes(force_post=True)
print(f"å¼·åˆ¶æŠ•ç¨¿çµæœ: {result}")
```

## ç›£è¦–ãƒ­ã‚°ã¨å±¥æ­´

### 1. æŠ•ç¨¿å±¥æ­´ã®ç¢ºèª
```bash
# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèª
ls -la logs/

# æŠ•ç¨¿ãƒ­ã‚°ã®ç¢ºèª
tail -f logs/sns_monitoring.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç¢ºèª
grep "ERROR" logs/sns_monitoring.log
```

### 2. ç›£è¦–çŠ¶æ³ã®ç¢ºèª
```python
from src.sns.integrated_posting_system import IntegratedPostingSystem

# ç›£è¦–çŠ¶æ³ã®ç¢ºèª
system = IntegratedPostingSystem()
status = system.get_system_status()
print(f"ç›£è¦–çŠ¶æ³: {status}")
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. S3æ¥ç¶šã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `botocore.exceptions.NoCredentialsError`
**è§£æ±ºæ–¹æ³•**:
```bash
# AWSèªè¨¼æƒ…å ±ã®ç¢ºèª
aws configure list

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®šç¢ºèª
echo $AWS_ACCESS_KEY_ID
echo $AWS_SECRET_ACCESS_KEY
```

#### 2. X APIèªè¨¼ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `tweepy.errors.Unauthorized`
**è§£æ±ºæ–¹æ³•**:
```bash
# ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª
echo $TWITTER_API_KEY
echo $TWITTER_API_SECRET

# APIèªè¨¼æƒ…å ±ã®å†ç”Ÿæˆ
# X Developer Portalã§æ–°ã—ã„èªè¨¼æƒ…å ±ã‚’ç”Ÿæˆ
```

#### 3. æŠ•ç¨¿åˆ¶é™ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `tweepy.errors.TooManyRequests`
**è§£æ±ºæ–¹æ³•**:
```bash
# åˆ¶é™è¨­å®šã®èª¿æ•´
# config/sns_monitoring_config.ymlã§max_daily_postsã‚’èª¿æ•´
```

#### 4. ç›£è¦–ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `FileNotFoundError: No such file or directory`
**è§£æ±ºæ–¹æ³•**:
```bash
# S3ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª
python -c "from src.sns.s3_data_loader import S3DataLoader; loader = S3DataLoader(); print(loader.list_available_dates())"

# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª
ls -la corporate_bias_datasets/analysis_visuals/
```

#### 5. ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `MemoryError` ã¾ãŸã¯ `Killed`
**è§£æ±ºæ–¹æ³•**:
```bash
# ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç¢ºèª
free -h

# ãƒãƒƒãƒã‚µã‚¤ã‚ºã®èª¿æ•´
# config/analysis_config.ymlã§batch_sizeã‚’å°ã•ãã™ã‚‹
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 1. ç›£è¦–é–“éš”ã®èª¿æ•´
```yaml
# config/sns_monitoring_config.yml
monitoring:
  interval_hours: 12  # 6æ™‚é–“ã‹ã‚‰12æ™‚é–“ã«å¤‰æ›´
```

### 2. ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨
```python
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–
from src.utils.storage_utils import enable_cache
enable_cache(True)
```

### 3. ä¸¦åˆ—å‡¦ç†ã®è¨­å®š
```yaml
# config/analysis_config.yml
parallel_processing:
  enabled: true
  max_workers: 4
```

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### SNSæŠ•ç¨¿å±¥æ­´ãƒ‡ãƒ¼ã‚¿
```json
{
  "post_id": "unique_post_id",
  "timestamp": "2025-01-27T14:30:00Z",
  "change_type": "nbi_change",
  "entity_name": "AWS",
  "change_percentage": 25.3,
  "post_content": "æŠ•ç¨¿å†…å®¹...",
  "status": "posted",
  "tweet_id": "1234567890123456789"
}
```

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ãƒ‡ãƒãƒƒã‚°ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### 1. SNSæŠ•ç¨¿æ©Ÿèƒ½ã®ãƒ‡ãƒãƒƒã‚°
```python
from src.sns.integrated_posting_system import IntegratedPostingSystem

# ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ç¢ºèª
system = IntegratedPostingSystem()
status = system.get_system_status()
print(f"ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹: {status}")

# æ¥ç¶šãƒ†ã‚¹ãƒˆ
test_result = system.test_connection()
print(f"æ¥ç¶šãƒ†ã‚¹ãƒˆçµæœ: {test_result}")

# åˆ©ç”¨å¯èƒ½ãªåˆ†ææ—¥ä»˜ã®ç¢ºèª
available_dates = system.list_available_dates()
print(f"åˆ©ç”¨å¯èƒ½ãªåˆ†ææ—¥ä»˜: {available_dates}")
```

#### 2. è¨­å®šã®æ¤œè¨¼
```python
from src.sns.integrated_posting_system import IntegratedPostingSystem

# è¨­å®šã®æ¤œè¨¼
system = IntegratedPostingSystem()
status = system.get_system_status()
print(f"è¨­å®šçŠ¶æ³: {status}")
```

### ãƒ­ã‚°ç¢ºèª
```bash
# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: logs/ ï¼ˆç©ºã®çŠ¶æ…‹ï¼‰
# å®Ÿè¡Œæ™‚ã«è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™

# SNSæŠ•ç¨¿ãƒ­ã‚°
tail -f logs/sns_monitoring.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç¢ºèª
grep -i error logs/*.log
```
